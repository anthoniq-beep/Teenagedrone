# 微信小程序无人机游戏开发计划

## 1. 架构调整
基于你的新需求，我们将项目重心从"培训网站"完全转向"飞行模拟游戏"。
- **核心玩法**：双摇杆模拟飞行、穿越圆环挑战、城市搜救任务。
- **技术架构**：采用 **Taro 3 + React** 框架，利用 **Canvas 2D** 进行游戏渲染，复用 **Supabase** 作为后端。
- **文档更新**：已为你生成新的产品需求文档 (`prd_miniprogram_game.md`) 和技术架构文档 (`tech_arch_miniprogram_game.md`)。

## 2. 实施路线图

### Phase 1: 基础环境搭建
1.  **初始化项目**：在根目录创建 `miniprogram` 文件夹，初始化 Taro React TypeScript 模板。
2.  **配置工程**：设置 Tailwind CSS (Weapp适配) 和绝对路径别名。

### Phase 2: 核心游戏引擎移植
1.  **物理引擎 (Physics)**：直接迁移现有的 `useDroneStore.ts`，保留核心飞行物理算法。
2.  **虚拟摇杆 (Input)**：重写 `Joystick.tsx`，将 DOM 鼠标事件替换为小程序的 `Touch` 事件，支持多点触控。
3.  **渲染引擎 (Render)**：重写 `CityCanvas.tsx`，适配小程序 Canvas 2D API，实现高性能的 2D 顶视图渲染。

### Phase 3: 游戏逻辑实现
1.  **游戏循环**：建立基于 `requestAnimationFrame` 的渲染循环。
2.  **HUD 仪表盘**：实现飞行高度、电量、方向的 UI 显示。
3.  **关卡系统**：实现简单的"起飞-悬停-降落"判定逻辑。

## 3. 下一步行动
请确认此计划，我将协助你执行 **Phase 1**，指导你初始化 Taro 项目（由于 CLI 工具通常需要交互，可能需要你手动运行一条命令，之后我接手代码迁移）。
